# 📊 量化交易系统 - 基于机器学习的股票预测

> 简单易用的股票量化交易系统，适合新手快速上手

## 🎯 系统特点

- **傻瓜式操作**: 一个配置文件统一管理所有参数
- **一键启动**: 提供图形化菜单，无需敲复杂命令
- **机器学习**: 基于随机森林算法预测股票涨跌
- **完整回测**: 自动验证策略历史表现
- **每日预测**: 自动生成Excel推荐列表

## 📁 文件说明

### 核心文件（⭐重要）

- **`config.py`** ⭐ - 配置文件（新手只需修改这一个文件！）
- **`run.py`** ⭐ - 一键启动脚本（最简单的使用方式）

### 功能脚本

- `download_stock_data_baostock.py` - 股票数据下载
- `final_strategy.py` - 模型训练和回测
- `predict_today.py` - 每日预测

### 辅助文件

- `hs300_stocks.py` - 沪深300股票池定义
- `README.md` - 本说明文档

## 🚀 快速开始（3步上手）

### 方式一：一键启动（推荐新手）

```bash
# 1. 直接运行启动脚本
python run.py

# 2. 选择菜单中的选项
#    首次使用选择：5（检查配置）→ 4（全流程运行）

# 3. 等待完成，查看结果
#    - 回测报告会自动生成
#    - 预测Excel会保存在当前目录
```

### 方式二：分步执行（适合进阶用户）

```bash
# Step 1: 下载数据（首次必须执行）
python download_stock_data_baostock.py

# Step 2: 训练模型并回测
python final_strategy.py

# Step 3: 每日预测
python predict_today.py
```

## ⚙️ 配置说明

所有配置都在 **`config.py`** 文件中，主要参数包括：

### 1. 股票池配置

```python
# 选择股票池类型
STOCK_POOL_TYPE = 'hs300'  # 可选: 'hs300'(沪深300), 'zz100'(中证100), 'custom'(自定义)

# 自定义股票池（仅当STOCK_POOL_TYPE='custom'时生效）
CUSTOM_STOCK_POOL = {
    '000001': '平安银行',
    '600036': '招商银行',
    # ... 添加更多股票
}
```

### 2. 时间范围配置

```python
# 数据下载范围
DOWNLOAD_START_DATE = '2022-01-01'
DOWNLOAD_END_DATE = '2025-11-21'

# 模型训练期
TRAIN_START_DATE = '2022-01-01'
TRAIN_END_DATE = '2025-06-30'

# 回测期（必须晚于训练期）
BACKTEST_START_DATE = '2025-07-01'
BACKTEST_END_DATE = '2025-11-21'
```

### 3. 交易策略配置

```python
# 买入阈值（预测概率>60%才买入）
BUY_THRESHOLD = 0.60

# 卖出阈值（预测概率<50%时止损）
SELL_THRESHOLD = 0.50

# 仓位比例（使用95%资金）
POSITION_RATIO = 0.95

# 初始资金
INITIAL_CASH = 100000  # 10万元
```

## 💡 新手使用建议

1. **首次使用直接运行**，无需修改任何参数
2. **运行 `python run.py`**，选择选项4（全流程运行）
3. **查看生成的文件**，理解系统工作流程
4. **根据需要调整参数**，修改 `config.py` 即可

## ⚠️ 风险提示

- 本系统仅供学习研究
- 历史回测不代表未来收益
- 股市有风险，投资需谨慎

---

详细文档请参考代码中的注释说明。
